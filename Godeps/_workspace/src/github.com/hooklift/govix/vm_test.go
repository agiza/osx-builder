package vix

import "testing"

func TestUpdateVMX(t *testing.T) {
	// vmxfile := &VMXFile{
	// 	path: filepath.Join("fixtures", "a.vmx"),
	// }

	// // Loads VMX file in memory
	// err := vmxfile.Read()
	// ok(t, err)

	// vm := &VM{
	// 	handle:  0,
	// 	vmxfile: vmxfile,
	// }

	// err = vm.updateVMX(func(model *vmx.VirtualMachine) error {
	// 	model.DisplayName = "Test"
	// 	return nil
	// })
	// ok(t, err)

	// //Reload a.vmx from disk
	// err = vmxfile.Read()
	// ok(t, err)

	// assert(t, vmxfile.model.DisplayName == "Test", fmt.Sprintf("%s != %s", vmxfile.model.DisplayName, "Test"))

	// err = vm.updateVMX(func(model *vmx.VirtualMachine) error {
	// 	model.DisplayName = "Test2"
	// 	return nil
	// })
	// ok(t, err)

	// //Reload a.vmx from disk
	// err = vmxfile.Read()
	// ok(t, err)

	// assert(t, vmxfile.model.DisplayName == "Test2", fmt.Sprintf("%s != %s", vmxfile.model.DisplayName, "Test2"))
}
